# WebSocket Client Demo

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è WebSocket –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è RNode Server —Å —Å–∏—Å—Ç–µ–º–æ–π –∫–æ–º–Ω–∞—Ç.

## üöÄ –ó–∞–ø—É—Å–∫

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ WebSocket —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   cd playground
   npm run websocket-example
   ```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–ª–∏–µ–Ω—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   ```
   http://localhost:4547/websocket-client/
   ```

## üîå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket —Å–µ—Ä–≤–µ—Ä—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Client ID
- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –ö–æ–º–Ω–∞—Ç—ã
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–∞–º
- –í—ã—Ö–æ–¥ –∏–∑ –∫–æ–º–Ω–∞—Ç
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã

### –°–æ–æ–±—â–µ–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ç–µ–∫—É—â—É—é –∫–æ–º–Ω–∞—Ç—É
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –∫–æ–º–Ω–∞—Ç—É
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π

### –ú–µ—Ç—Ä–∏–∫–∏
- Ping/Pong –∑–∞–¥–µ—Ä–∂–∫–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –¢–µ–∫—É—â–∞—è –∫–æ–º–Ω–∞—Ç–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
websocket-client/
‚îú‚îÄ‚îÄ index.html          # HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ websocket-client.js # JavaScript –ª–æ–≥–∏–∫–∞
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üåê WebSocket Endpoints

–°–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ WebSocket –º–∞—Ä—à—Ä—É—Ç—ã:

- `/chat` - –ß–∞—Ç –∫–æ–º–Ω–∞—Ç–∞
- `/game` - –ò–≥—Ä–æ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞  
- `/notifications` - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üìä HTTP API

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è WebSocket —á–µ—Ä–µ–∑ HTTP:

- `GET /websocket/rooms` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–Ω–∞—Ç
- `GET /websocket/rooms/:id` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–Ω–∞—Ç–µ
- `POST /websocket/rooms` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–Ω–∞—Ç—ã
- `POST /websocket/rooms/:id/message` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–æ–º–Ω–∞—Ç—É
- `POST /websocket/rooms/:id/join` - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–µ
- `POST /websocket/rooms/:id/leave` - –í—ã—Ö–æ–¥ –∏–∑ –∫–æ–º–Ω–∞—Ç—ã
- `GET /websocket/clients/:id` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ
- `GET /websocket/clients/:id/rooms` - –ö–æ–º–Ω–∞—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —á–∞—Ç—É
```javascript
// –í –±—Ä–∞—É–∑–µ—Ä–µ
const ws = new WebSocket('ws://localhost:4547/chat');

ws.onopen = () => {
    console.log('–ü–æ–¥–∫–ª—é—á–µ–Ω –∫ —á–∞—Ç—É');
    
    // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–µ
    ws.send(JSON.stringify({
        type: 'join_room',
        data: { roomId: 'general' },
        timestamp: Date.now()
    }));
};

ws.onmessage = (event) => {
    const message = JSON.parse(event.data);
    console.log('–ü–æ–ª—É—á–µ–Ω–æ:', message);
};
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
```javascript
ws.send(JSON.stringify({
    type: 'message',
    data: {
        text: '–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º!',
        clientId: 'user123',
        timestamp: Date.now()
    },
    timestamp: Date.now(),
    roomId: 'general'
}));
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞
–í `websocket-example.ts` –∏–∑–º–µ–Ω–∏—Ç–µ:
```typescript
const port = 4547; // –í–∞—à –ø–æ—Ä—Ç
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ WebSocket URL
–í `index.html` –∏–∑–º–µ–Ω–∏—Ç–µ:
```html
<input type="text" id="serverUrl" value="ws://localhost:4547/chat">
```

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- Touch —Å–æ–±—ã—Ç–∏—è
- Responsive –¥–∏–∑–∞–π–Ω
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π
–í—Å–µ WebSocket —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–õ–æ–≥ —Å–æ–±—ã—Ç–∏–π".

### –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞.

### –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–∞
–õ–æ–≥ –º–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –°—Ç–∏–ª–∏
CSS —Å—Ç–∏–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `<style>` –±–ª–æ–∫–µ `index.html` –∏ –ª–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è.

### –õ–æ–≥–∏–∫–∞
JavaScript –ª–æ–≥–∏–∫–∞ –≤ `websocket-client.js` –º–æ–¥—É–ª—å–Ω–∞—è –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è.

### –¢–µ–º—ã
–ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Ü–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [WebSocket API](https://developer.mozilla.org/en-US/docs/Web/API/WebSocket)
- [RNode Server Documentation](../README.md)
- [WebSocket Protocol](https://tools.ietf.org/html/rfc6455)
