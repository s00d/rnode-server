{"version":3,"file":"rnode-websocket-client.umd.js","sources":["../src/core/logger.ts","../src/core/events.ts","../src/core/types.ts","../src/connection/manager.ts","../src/connection/rooms.ts","../src/connection/messages.ts","../src/connection/pingpong.ts","../src/connection/reconnection.ts","../src/client.ts","../src/utils/websocket.ts","../src/index.ts"],"sourcesContent":["export enum LogLevel {\n  TRACE = 0,\n  DEBUG = 1,\n  INFO = 2,\n  WARN = 3,\n  ERROR = 4\n}\n\nexport class Logger {\n  private level: LogLevel = LogLevel.INFO;\n  private prefix: string = 'rnode-websocket-client';\n\n  constructor(level?: LogLevel, prefix?: string) {\n    if (level !== undefined) this.level = level;\n    if (prefix !== undefined) this.prefix = prefix;\n  }\n\n  setLevel(level: LogLevel): void {\n    this.level = level;\n  }\n\n  private shouldLog(level: LogLevel): boolean {\n    return level >= this.level;\n  }\n\n  private formatMessage(level: string, message: string, context?: string): string {\n    const timestamp = new Date().toISOString();\n    const contextStr = context ? ` [${context}]` : '';\n    return `[${timestamp}] ${level.toUpperCase()} ${this.prefix}${contextStr}: ${message}`;\n  }\n\n  trace(message: string, context?: string): void {\n    if (this.shouldLog(LogLevel.TRACE)) {\n      console.trace(this.formatMessage('TRACE', message, context));\n    }\n  }\n\n  debug(message: string, context?: string): void {\n    if (this.shouldLog(LogLevel.DEBUG)) {\n      console.debug(this.formatMessage('DEBUG', message, context));\n    }\n  }\n\n  info(message: string, context?: string): void {\n    if (this.shouldLog(LogLevel.INFO)) {\n      console.info(this.formatMessage('INFO', message, context));\n    }\n  }\n\n  warn(message: string, context?: string): void {\n    if (this.shouldLog(LogLevel.WARN)) {\n      console.warn(this.formatMessage('WARN', message, context));\n    }\n  }\n\n  error(message: string, context?: string): void {\n    if (this.shouldLog(LogLevel.ERROR)) {\n      console.error(this.formatMessage('ERROR', message, context));\n    }\n  }\n}\n\nexport const logger = new Logger();\n","import { logger } from './logger';\n\nexport type EventListener = (data?: unknown) => void;\n\nexport class EventEmitter {\n  private eventListeners: Map<string, EventListener[]> = new Map();\n\n  /**\n   * Subscribe to events\n   */\n  on(event: string, listener: EventListener): void {\n    if (!this.eventListeners.has(event)) {\n      this.eventListeners.set(event, []);\n    }\n    this.eventListeners.get(event)!.push(listener);\n  }\n\n  /**\n   * Unsubscribe from events\n   */\n  off(event: string, listener: EventListener): void {\n    if (this.eventListeners.has(event)) {\n      const listeners = this.eventListeners.get(event)!;\n      const index = listeners.indexOf(listener);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n\n  /**\n   * Emit events\n   */\n  protected emit(event: string, data?: unknown): void {\n    if (this.eventListeners.has(event)) {\n      const listeners = this.eventListeners.get(event)!;\n      listeners.forEach(listener => {\n        try {\n          listener(data);\n        } catch (error) {\n          logger.error(`❌ Error in event listener for ${event}: ${error}`, 'events');\n        }\n      });\n    }\n  }\n\n  /**\n   * Clear all event listeners\n   */\n  removeAllListeners(event?: string): void {\n    if (event) {\n      this.eventListeners.delete(event);\n    } else {\n      this.eventListeners.clear();\n    }\n  }\n\n  /**\n   * Get number of listeners for event\n   */\n  listenerCount(event: string): number {\n    return this.eventListeners.get(event)?.length || 0;\n  }\n\n  /**\n   * Get list of all events\n   */\n  eventNames(): string[] {\n    return Array.from(this.eventListeners.keys());\n  }\n}\n","// Main WebSocket types\nexport interface WebSocketOptions {\n  url: string;\n  protocols?: string | string[];\n  clientId?: string;\n  autoReconnect?: boolean;\n  reconnectAttempts?: number;\n  reconnectDelay?: number;\n  pingInterval?: number;\n  pongTimeout?: number;\n  onConnect?: (event: WebSocketEvent) => void;\n  onMessage?: (event: WebSocketEvent) => void;\n  onBinaryMessage?: (event: WebSocketEvent) => void;  // Add binary message handler\n  onDisconnect?: (event: WebSocketEvent) => void;\n  onError?: (event: WebSocketEvent) => void;\n  onWelcome?: (message: WelcomeMessage) => void;\n  onReconnect?: (data: ReconnectEvent) => void;\n  onJoinRoom?: (data: RoomEvent) => void;\n  onLeaveRoom?: (data: RoomEvent) => void;\n  onPing?: (data: PingEvent) => void;\n  onPong?: (data: PongEvent) => void;\n  onMessageAck?: (data: MessageAckEvent) => void;\n  onRoomMessage?: (data: RoomMessageEvent) => void;\n  onDirectMessage?: (data: DirectMessageEvent) => void;\n  onServerError?: (data: ServerErrorEvent) => void;  // Add server error handler\n  onMessageBlocked?: (data: MessageBlockedEvent) => void;  // Add message blocked handler\n}\n\nexport interface WebSocketEvent {\n  type: string;\n  data?: unknown;\n  timestamp: number;\n}\n\nexport interface WebSocketMessage {\n  type: string;\n  connection_id?: string;\n  client_id?: string;\n  path?: string;\n  data?: unknown;\n  timestamp?: string;\n  room_id?: string | null;  // snake_case for server compatibility\n  target_client_id?: string;  // snake_case for server compatibility\n  [key: string]: unknown;\n}\n\n// Specialized message types\nexport interface WelcomeMessage {\n  type: 'welcome';\n  connection_id: string;\n  client_id: string;\n  path: string;\n  timestamp: string;\n}\n\nexport interface RoomInfo {\n  id: string;\n  name: string;\n  description?: string;\n  maxConnections?: number;\n  connections: string[];\n  metadata: Record<string, string>;\n  createdAt: string;\n}\n\nexport interface ConnectionInfo {\n  id: string;\n  clientId: string;\n  path: string;\n  roomId?: string;\n  handlerId: string;\n  metadata: Record<string, string>;\n  createdAt: string;\n  lastPing: string;\n}\n\n// Configuration types\nexport interface ReconnectConfig {\n  enabled: boolean;\n  interval: number;\n  maxAttempts: number;\n  currentAttempt: number;\n}\n\nexport interface PingPongConfig {\n  enabled: boolean;\n  interval: number;\n  timeout: number;\n  lastPing: number;\n  lastPong: number;\n}\n\n// Event types\nexport interface ReconnectEvent {\n  attempt: number;\n  maxAttempts: number;\n  delay: number;\n  timestamp: number;\n}\n\nexport interface RoomEvent {\n  roomId: string;\n  timestamp: number;\n}\n\nexport interface PingEvent {\n  timestamp: number;\n}\n\nexport interface PongEvent {\n  latency: number;\n  timestamp: number;\n}\n\nexport interface MessageAckEvent {\n  message: string;\n  timestamp: string;\n  type: string;\n}\n\nexport interface RoomMessageEvent {\n  message: string;\n  room_id: string;\n  timestamp: string;\n  type: string;\n}\n\nexport interface DirectMessageEvent {\n  message: string;\n  from_client_id: string;\n  timestamp: string;\n  type: string;\n}\n\nexport interface ServerErrorEvent {\n  error: string;\n  error_type: string;\n  timestamp: string;\n  type: string;\n}\n\nexport interface MessageBlockedEvent {\n  originalMessage: string;\n  reason: string;\n  timestamp: string;\n  type: string;\n}\n\n// Connection states\nexport enum ConnectionState {\n  CONNECTING = WebSocket.CONNECTING,\n  OPEN = WebSocket.OPEN,\n  CLOSING = WebSocket.CLOSING,\n  CLOSED = WebSocket.CLOSED\n}\n\n// Types for internal use\nexport interface ConnectionStatus {\n  isConnected: boolean;\n  isConnecting: boolean;\n  isReconnecting: boolean;\n  currentRoom: string | null;\n  state: ConnectionState;\n}\n\nexport interface MessageHandler {\n  type: string;\n  handler: (message: WebSocketMessage) => void;\n}\n","import { logger } from '../core/logger';\nimport { WebSocketOptions, WebSocketEvent, ConnectionState, ConnectionStatus } from '../core/types';\n\nexport class ConnectionManager {\n  private ws: WebSocket | null = null;\n  private options: WebSocketOptions;\n  private isConnecting: boolean = false;\n  private currentRoom: string | null = null;\n  private onDisconnectCallback?: () => void;\n\n  constructor(options: WebSocketOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Set disconnect handler\n   */\n  setDisconnectCallback(callback: () => void): void {\n    this.onDisconnectCallback = callback;\n  }\n\n  /**\n   * Connect to WebSocket server\n   */\n  async connect(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n        resolve();\n        return;\n      }\n\n      if (this.isConnecting) {\n        reject(new Error('Connection already in progress'));\n        return;\n      }\n\n      this.isConnecting = true;\n      \n      // Build URL with clientId if available\n      let connectionUrl = this.options.url;\n      if (this.options.clientId) {\n        const separator = connectionUrl.includes('?') ? '&' : '?';\n        connectionUrl = `${connectionUrl}${separator}clientId=${encodeURIComponent(this.options.clientId)}`;\n      }\n      \n      logger.info(`🔌 Connecting to ${connectionUrl}`, 'connection');\n\n      try {\n        this.ws = new WebSocket(connectionUrl, this.options.protocols);\n        this.setupEventHandlers(resolve, reject);\n      } catch (error) {\n        this.isConnecting = false;\n        reject(error);\n      }\n    });\n  }\n\n  /**\n   * Setup WebSocket event handlers\n   */\n  private setupEventHandlers(resolve: () => void, _reject: (error: Error) => void): void {\n    if (!this.ws) return;\n\n    this.ws.onopen = () => {\n      this.isConnecting = false;\n      \n      logger.info('✅ WebSocket connected', 'connection');\n      \n      // Call user handler\n      if (this.options.onConnect) {\n        const wsEvent: WebSocketEvent = {\n          type: 'connect',\n          data: { url: this.options.url, clientId: this.options.clientId },\n          timestamp: Date.now()\n        };\n        this.options.onConnect(wsEvent);\n      }\n      \n      resolve();\n    };\n\n    this.ws.onclose = (event) => {\n      this.isConnecting = false;\n      \n      logger.warn(`🔌 WebSocket closed: ${event.code} ${event.reason}`, 'connection');\n      \n      // Call user handler\n      if (this.options.onDisconnect) {\n        const wsEvent: WebSocketEvent = {\n          type: 'disconnect',\n          data: { code: event.code, reason: event.reason, wasClean: event.wasClean },\n          timestamp: Date.now()\n        };\n        this.options.onDisconnect(wsEvent);\n      }\n      \n      // Call internal disconnect handler\n      if (this.onDisconnectCallback) {\n        this.onDisconnectCallback();\n      }\n    };\n\n    this.ws.onerror = (error) => {\n      this.isConnecting = false;\n      logger.error(`❌ WebSocket error: ${error}`, 'connection');\n      \n      // Call user handler\n      if (this.options.onError) {\n        const wsEvent: WebSocketEvent = {\n          type: 'error',\n          data: { error: error.toString() },\n          timestamp: Date.now()\n        };\n        this.options.onError(wsEvent);\n      }\n      \n      // Don't reject promise on error as this may be a temporary issue\n      // reject(new Error(`WebSocket connection failed: ${error}`));\n    };\n\n    // Add binary message handler\n    this.ws.onmessage = (event) => {\n      if (event.data instanceof ArrayBuffer || event.data instanceof Blob) {\n        logger.debug(`📦 Binary message received: ${event.data instanceof ArrayBuffer ? event.data.byteLength : 'blob'} bytes`, 'connection');\n        \n        // Call user handler for binary messages\n        if (this.options.onBinaryMessage) {\n          const wsEvent: WebSocketEvent = {\n            type: 'binary_message',\n            data: event.data,\n            timestamp: Date.now()\n          };\n          this.options.onBinaryMessage(wsEvent);\n        }\n      }\n    };\n  }\n\n  /**\n   * Disconnect from server\n   */\n  disconnect(): void {\n    logger.info('🔌 Disconnecting from WebSocket server', 'connection');\n    \n    if (this.ws) {\n      this.ws.close(1000, 'Client disconnect');\n      this.ws = null;\n    }\n    \n    this.isConnecting = false;\n    this.currentRoom = null;\n  }\n\n  /**\n   * Get WebSocket connection\n   */\n  getWebSocket(): WebSocket | null {\n    return this.ws;\n  }\n\n  /**\n   * Get current connection state\n   */\n  getState(): ConnectionState {\n    return this.ws ? this.ws.readyState : ConnectionState.CLOSED;\n  }\n\n  /**\n   * Check connection\n   */\n  isConnected(): boolean {\n    return this.ws ? this.ws.readyState === WebSocket.OPEN : false;\n  }\n\n  /**\n   * Get connection status\n   */\n  getConnectionStatus(): ConnectionStatus {\n    return {\n      isConnected: this.isConnected(),\n      isConnecting: this.isConnecting,\n      isReconnecting: false, // Managed by ReconnectionManager\n      currentRoom: this.currentRoom,\n      state: this.getState()\n    };\n  }\n\n  /**\n   * Set current room\n   */\n  setCurrentRoom(roomId: string | null): void {\n    this.currentRoom = roomId;\n  }\n\n  /**\n   * Get current room\n   */\n  getCurrentRoom(): string | null {\n    return this.currentRoom;\n  }\n}\n","import { logger } from '../core/logger';\nimport { WebSocketMessage, WebSocketOptions, RoomEvent } from '../core/types';\nimport { ConnectionManager } from './manager';\n\nexport class RoomManager {\n  private connectionManager: ConnectionManager;\n  private options: WebSocketOptions;\n\n  constructor(connectionManager: ConnectionManager, options: WebSocketOptions) {\n    this.connectionManager = connectionManager;\n    this.options = options;\n  }\n\n  /**\n   * Join room\n   */\n  joinRoom(roomId: string): boolean {\n    const ws = this.connectionManager.getWebSocket();\n    if (!ws || ws.readyState !== WebSocket.OPEN) {\n      logger.error('❌ WebSocket not connected', 'rooms');\n      return false;\n    }\n\n    try {\n      const message: WebSocketMessage = {\n        type: 'join_room',\n        room_id: roomId,  // Use snake_case in root object\n        timestamp: new Date().toISOString()\n      };\n\n      ws.send(JSON.stringify(message));\n      this.connectionManager.setCurrentRoom(roomId);\n      \n      logger.info(`🔗 Joined room: ${roomId}`, 'rooms');\n      \n          // Call user handler\n    if (this.options.onJoinRoom) {\n        const roomEvent: RoomEvent = { roomId, timestamp: Date.now() };\n        this.options.onJoinRoom(roomEvent);\n      }\n      \n      return true;\n    } catch (error) {\n      logger.error(`❌ Error joining room: ${error}`, 'rooms');\n      return false;\n    }\n  }\n\n  /**\n   * Leave room\n   */\n  leaveRoom(roomId?: string): boolean {\n    const ws = this.connectionManager.getWebSocket();\n    if (!ws || ws.readyState !== WebSocket.OPEN) {\n      logger.error('❌ WebSocket not connected', 'rooms');\n      return false;\n    }\n\n    const targetRoom = roomId || this.connectionManager.getCurrentRoom();\n    if (!targetRoom) {\n      logger.warn('⚠️ Not in any room', 'rooms');\n      return false;\n    }\n\n    try {\n      const message: WebSocketMessage = {\n        type: 'leave_room',\n        room_id: targetRoom,  // Use snake_case in root object\n        timestamp: new Date().toISOString()\n      };\n\n      ws.send(JSON.stringify(message));\n      \n      if (targetRoom === this.connectionManager.getCurrentRoom()) {\n        this.connectionManager.setCurrentRoom(null);\n      }\n      \n      logger.info(`🚪 Left room: ${targetRoom}`, 'rooms');\n      \n          // Call user handler\n    if (this.options.onLeaveRoom) {\n        const roomEvent: RoomEvent = { roomId: targetRoom, timestamp: Date.now() };\n        this.options.onLeaveRoom(roomEvent);\n      }\n      \n      return true;\n    } catch (error) {\n      logger.error(`❌ Error leaving room: ${error}`, 'rooms');\n      return false;\n    }\n  }\n\n  /**\n   * Get current room\n   */\n  getCurrentRoom(): string | null {\n    return this.connectionManager.getCurrentRoom();\n  }\n\n  /**\n   * Check if in room\n   */\n  isInRoom(roomId?: string): boolean {\n    const currentRoom = this.connectionManager.getCurrentRoom();\n    return roomId ? currentRoom === roomId : currentRoom !== null;\n  }\n}\n","import { logger } from '../core/logger';\nimport { WebSocketMessage, WebSocketOptions, WebSocketEvent, WelcomeMessage, RoomMessageEvent, DirectMessageEvent, MessageAckEvent, ServerErrorEvent } from '../core/types';\nimport { ConnectionManager } from './manager';\nimport { PingPongManager } from './pingpong';\nimport { EventEmitter } from '../core/events';\n\nexport class MessageManager extends EventEmitter {\n  private connectionManager: ConnectionManager;\n  private options: WebSocketOptions;\n  private pingPongManager: PingPongManager | undefined;\n\n  constructor(connectionManager: ConnectionManager, options: WebSocketOptions, pingPongManager?: PingPongManager) {\n    super();\n    this.connectionManager = connectionManager;\n    this.options = options;\n    this.pingPongManager = pingPongManager;\n    // Don't setup handler here as WebSocket is not created yet\n  }\n\n  /**\n   * Setup message handler\n   */\n  private setupMessageHandler(): void {\n    const ws = this.connectionManager.getWebSocket();\n    if (!ws) {\n      logger.error('❌ WebSocket not available for message handler', 'messages');\n      return;\n    }\n\n    ws.onmessage = (event) => {\n      try {\n        logger.debug(`📨 Raw message received: ${event.data}`, 'messages');\n        const message: WebSocketMessage = JSON.parse(event.data);\n        logger.debug(`📨 Message parsed: ${message.type}`, 'messages');\n        \n        this.handleMessage(message);\n      } catch (error) {\n        logger.error(`❌ Error parsing message: ${error}`, 'messages');\n      }\n    };\n  }\n\n  /**\n   * Public method to setup message handler after connection\n   */\n  public setupMessageHandlerAfterConnect(): void {\n    logger.info('🔧 Setting up message handler after connection', 'messages');\n    this.setupMessageHandler();\n  }\n\n  /**\n   * Handle incoming messages\n   */\n  private handleMessage(message: WebSocketMessage): void {\n    logger.debug(`🔍 Handling message type: ${message.type}`, 'messages');\n    switch (message.type) {\n      case 'welcome':\n        logger.debug('🎯 Welcome case matched', 'messages');\n        this.handleWelcome(message as WelcomeMessage);\n        break;\n      case 'ping':\n        this.handlePing(message);\n        break;\n      case 'pong':\n        this.handlePong(message);\n        break;\n      case 'room_joined':\n        this.handleRoomJoined(message);\n        break;\n      case 'room_left':\n        this.handleRoomLeft(message);\n        break;\n      case 'room_message':\n        this.handleRoomMessage(message as unknown as RoomMessageEvent);\n        break;\n      case 'message_ack':\n        logger.debug('✅ Message ack case matched', 'messages');\n        this.handleMessageAck(message as unknown as MessageAckEvent);\n        break;\n      case 'direct_message':\n        this.handleDirectMessage(message as unknown as DirectMessageEvent);\n        break;\n      case 'error':\n        this.handleServerError(message as unknown as ServerErrorEvent);\n        break;\n      default:\n        this.handleGenericMessage(message);\n        break;\n    }\n  }\n\n  /**\n   * Handle welcome message\n   */\n  private handleWelcome(message: WelcomeMessage): void {\n    logger.info('👋 Welcome message received', 'messages');\n    logger.debug(`👋 Welcome message data: ${JSON.stringify(message)}`, 'messages');\n    this.emit('welcome', message);\n    \n    if (this.options.onWelcome) {\n      logger.info('👋 Calling onWelcome callback', 'messages');\n      this.options.onWelcome(message);\n    } else {\n      logger.warn('⚠️ onWelcome callback not set', 'messages');\n    }\n  }\n\n  /**\n   * Handle ping message\n   */\n  private handlePing(message: WebSocketMessage): void {\n    logger.info('🏓 Ping received from server', 'messages');\n    \n    // Use new method for handling ping from server\n    if (this.pingPongManager) {\n      this.pingPongManager.handlePingFromServer();\n    }\n    \n    this.emit('ping', message);\n  }\n\n  /**\n   * Handle pong message\n   */\n  private handlePong(message: WebSocketMessage): void {\n    if (this.pingPongManager) {\n      this.pingPongManager.handlePongFromServer();\n    }\n    this.emit('pong', message);\n  }\n\n  /**\n   * Handle room joined message\n   */\n  private handleRoomJoined(message: WebSocketMessage): void {\n    logger.info('🏠 Room joined message received', 'messages');\n    const roomEvent = { roomId: message.room_id as string, timestamp: Date.now() };\n    this.emit('join_room', roomEvent);\n    \n    if (this.options.onJoinRoom) {\n      this.options.onJoinRoom(roomEvent);\n    }\n  }\n\n  /**\n   * Handle room left message\n   */\n  private handleRoomLeft(message: WebSocketMessage): void {\n    logger.info('🚪 Room left message received', 'messages');\n    const roomEvent = { roomId: message.room_id as string, timestamp: Date.now() };\n    this.emit('leave_room', roomEvent);\n    \n    if (this.options.onLeaveRoom) {\n      this.options.onLeaveRoom(roomEvent);\n    }\n  }\n\n  /**\n   * Handle room message\n   */\n  private handleRoomMessage(message: RoomMessageEvent): void {\n    logger.info('📨 Room message received', 'messages');\n    this.emit('room_message', message);\n    \n    if (this.options.onRoomMessage) {\n      this.options.onRoomMessage(message);\n    }\n  }\n\n  /**\n   * Handle message acknowledgment\n   */\n  private handleMessageAck(message: MessageAckEvent): void {\n    logger.info('✅ Message acknowledgment received', 'messages');\n    logger.debug(`✅ Message ack data: ${JSON.stringify(message)}`, 'messages');\n    \n    // Check if this is a pong acknowledgment\n    if (message.message && typeof message.message === 'string') {\n      logger.debug(`🔍 Checking message: ${message.message}`, 'messages');\n      try {\n        const ackedMessage = JSON.parse(message.message);\n        logger.debug(`🔍 Parsed acked message: ${JSON.stringify(ackedMessage)}`, 'messages');\n        if (ackedMessage.type === 'pong') {\n          logger.debug('🏓 Pong acknowledgment received', 'messages');\n          // Call pong handler\n          if (this.pingPongManager) {\n            logger.debug('🏓 Calling handlePongFromServer', 'messages');\n            this.pingPongManager.handlePongFromServer();\n          } else {\n            logger.warn('⚠️ PingPongManager not available', 'messages');\n          }\n        } else {\n          logger.debug(`✅ Regular message ack for type: ${ackedMessage.type}`, 'messages');\n        }\n      } catch (error) {\n        logger.debug(`❌ Error parsing acked message: ${error}`, 'messages');\n      }\n    } else {\n      logger.debug('✅ Message ack without message field', 'messages');\n    }\n    \n    this.emit('message_ack', message);\n    \n    if (this.options.onMessageAck) {\n      this.options.onMessageAck(message);\n    }\n  }\n\n  /**\n   * Handle direct message\n   */\n  private handleDirectMessage(message: DirectMessageEvent): void {\n    logger.info('📨 Direct message received', 'messages');\n    this.emit('direct_message', message);\n    \n    if (this.options.onDirectMessage) {\n      this.options.onDirectMessage(message);\n    }\n  }\n\n  /**\n   * Handle server error\n   */\n  private handleServerError(message: ServerErrorEvent): void {\n    logger.error(`❌ Server error: ${message.error} (${message.error_type})`, 'messages');\n    this.emit('error', message);\n    \n    if (this.options.onServerError) {\n      this.options.onServerError(message);\n    }\n  }\n\n  /**\n   * Handle generic message\n   */\n  private handleGenericMessage(message: WebSocketMessage): void {\n    if (this.options.onMessage) {\n      const wsEvent: WebSocketEvent = {\n        type: 'message',\n        data: message,\n        timestamp: Date.now()\n      };\n      this.options.onMessage(wsEvent);\n    }\n    \n    this.emit('message', message);\n  }\n\n  /**\n   * Send message\n   */\n  send(data: unknown, roomId?: string): boolean {\n    const ws = this.connectionManager.getWebSocket();\n    if (!ws || ws.readyState !== WebSocket.OPEN) {\n      logger.error('❌ WebSocket not connected', 'messages');\n      return false;\n    }\n\n    try {\n      const message: WebSocketMessage = {\n        type: 'message',\n        data,\n        timestamp: new Date().toISOString(),\n        room_id: roomId || this.connectionManager.getCurrentRoom() || null  // snake_case\n      };\n\n      ws.send(JSON.stringify(message));\n      logger.debug(`📤 Message sent: ${JSON.stringify(data).substring(0, 100)}...`, 'messages');\n      return true;\n    } catch (error) {\n      logger.error(`❌ Error sending message: ${error}`, 'messages');\n      return false;\n    }\n  }\n\n  /**\n   * Send message to room\n   */\n  sendToRoom(roomId: string, message: unknown): boolean {\n    const ws = this.connectionManager.getWebSocket();\n    if (!ws || ws.readyState !== WebSocket.OPEN) {\n      logger.error('❌ WebSocket not connected', 'messages');\n      return false;\n    }\n\n    try {\n      const wsMessage: WebSocketMessage = {\n        type: 'room_message',\n        data: message,\n        timestamp: new Date().toISOString(),\n        room_id: roomId  // Use snake_case for server compatibility\n      };\n\n      ws.send(JSON.stringify(wsMessage));\n      logger.debug(`📤 Room message sent to ${roomId}: ${JSON.stringify(message).substring(0, 100)}...`, 'messages');\n      return true;\n    } catch (error) {\n      logger.error(`❌ Error sending room message: ${error}`, 'messages');\n      return false;\n    }\n  }\n\n  /**\n   * Send direct message to client by ID\n   */\n  sendDirectMessage(clientId: string, message: unknown): boolean {\n    const ws = this.connectionManager.getWebSocket();\n    if (!ws || ws.readyState !== WebSocket.OPEN) {\n      logger.error('❌ WebSocket not connected', 'messages');\n      return false;\n    }\n\n    try {\n      const wsMessage: WebSocketMessage = {\n        type: 'direct_message',\n        data: message,\n        timestamp: new Date().toISOString(),\n        target_client_id: clientId  // Use snake_case for server compatibility\n      };\n\n      ws.send(JSON.stringify(wsMessage));\n      logger.debug(`📤 Direct message sent to client ${clientId}: ${message}`, 'messages');\n      return true;\n    } catch (error) {\n      logger.error(`❌ Error sending direct message: ${error}`, 'messages');\n      return false;\n    }\n  }\n}\n","import { logger } from '../core/logger';\nimport { WebSocketMessage, WebSocketOptions, PingEvent, PongEvent } from '../core/types';\nimport { ConnectionManager } from './manager';\nimport { EventEmitter } from '../core/events';\n\nexport class PingPongManager extends EventEmitter {\n  private connectionManager: ConnectionManager;\n  private options: WebSocketOptions;\n  private pongTimer: NodeJS.Timeout | null = null;\n  private lastPing: number = 0;\n  private lastPong: number = 0;\n  private pongTimeoutId: NodeJS.Timeout | null = null;\n\n  constructor(connectionManager: ConnectionManager, options: WebSocketOptions) {\n    super();\n    this.connectionManager = connectionManager;\n    this.options = options;\n  }\n\n  /**\n   * Start ping/pong mechanism (client only responds to server ping)\n   */\n  start(): void {\n    logger.debug('🏓 Ping/pong mechanism started (client responds to server pings)', 'pingpong');\n  }\n\n  /**\n   * Stop ping/pong mechanism\n   */\n  stop(): void {\n    if (this.pongTimer) {\n      clearTimeout(this.pongTimer);\n      this.pongTimer = null;\n    }\n    \n    if (this.pongTimeoutId) {\n      clearTimeout(this.pongTimeoutId);\n      this.pongTimeoutId = null;\n    }\n    \n    logger.debug('🏓 Ping/pong mechanism stopped', 'pingpong');\n  }\n\n  /**\n   * Handle ping from server (client only responds)\n   */\n  handlePingFromServer(): void {\n    this.lastPing = Date.now();\n    \n    // Send pong in response\n    this.sendPong();\n    \n    // Set timeout for waiting for next ping\n    if (this.options.pongTimeout) {\n      this.pongTimeoutId = setTimeout(() => {\n        logger.warn('⚠️ No ping received from server, connection may be stale', 'pingpong');\n        const ws = this.connectionManager.getWebSocket();\n        if (ws && ws.readyState === WebSocket.OPEN) {\n          ws.close(1000, 'No ping from server');\n        }\n      }, this.options.pongTimeout);\n    }\n    \n    logger.debug('🏓 Ping received from server, pong sent', 'pingpong');\n    \n    // Generate ping event\n    const pingEvent: PingEvent = { timestamp: this.lastPing };\n    this.emit('ping', pingEvent);\n    \n    // Call user handler\n    if (this.options.onPing) {\n      this.options.onPing(pingEvent);\n    }\n  }\n\n  /**\n   * Send pong in response to ping from server\n   */\n  private sendPong(): void {\n    const ws = this.connectionManager.getWebSocket();\n    if (!ws || ws.readyState !== WebSocket.OPEN) return;\n    \n    try {\n      const pongMessage: WebSocketMessage = {\n        type: 'pong',\n        data: { timestamp: new Date().toISOString() },\n        timestamp: new Date().toISOString()\n      };\n      \n      ws.send(JSON.stringify(pongMessage));\n      logger.debug('🏓 Pong sent to server', 'pingpong');\n    } catch (error) {\n      logger.error(`❌ Error sending pong: ${error}`, 'pingpong');\n    }\n  }\n\n  /**\n   * Handle pong from server (for confirmation)\n   */\n  handlePongFromServer(): void {\n    this.lastPong = Date.now();\n    \n    // Clear timeout since we received pong from server\n    if (this.pongTimeoutId) {\n      clearTimeout(this.pongTimeoutId);\n      this.pongTimeoutId = null;\n    }\n    \n    const latency = this.lastPong - this.lastPing;\n    logger.debug(`🏓 Pong received from server, latency: ${latency}ms`, 'pingpong');\n    \n    // Generate pong event\n    const pongEvent: PongEvent = { latency, timestamp: this.lastPong };\n    this.emit('pong', pongEvent);\n    \n    // Call user handler\n    if (this.options.onPong) {\n      this.options.onPong(pongEvent);\n    }\n  }\n\n  /**\n   * Get last ping\n   */\n  getLastPing(): number {\n    return this.lastPing;\n  }\n\n  /**\n   * Get last pong\n   */\n  getLastPong(): number {\n    return this.lastPong;\n  }\n\n  /**\n   * Get current latency\n   */\n  getLatency(): number {\n    if (this.lastPing === 0 || this.lastPong === 0) return 0;\n    return this.lastPong - this.lastPing;\n  }\n\n  /**\n   * Check ping/pong activity\n   */\n  isActive(): boolean {\n    return this.pongTimeoutId !== null;\n  }\n}\n","import { logger } from '../core/logger';\nimport { WebSocketOptions, ReconnectEvent } from '../core/types';\nimport { ConnectionManager } from './manager';\nimport { RoomManager } from './rooms';\nimport { EventEmitter } from '../core/events';\n\nexport class ReconnectionManager extends EventEmitter {\n  private connectionManager: ConnectionManager;\n  private roomManager: RoomManager;\n  private options: WebSocketOptions;\n  private reconnectTimer: NodeJS.Timeout | null = null;\n  private isReconnecting: boolean = false;\n  private currentAttempt: number = 0;\n  private previousRooms: string[] = [];  // Save rooms for restoration\n\n  constructor(connectionManager: ConnectionManager, options: WebSocketOptions, roomManager?: RoomManager) {\n    super();\n    this.connectionManager = connectionManager;\n    this.roomManager = roomManager || new RoomManager(connectionManager, options);\n    this.options = options;\n  }\n\n  /**\n   * Save current rooms before reconnection\n   */\n  private saveCurrentRooms(): void {\n    const currentRoom = this.roomManager.getCurrentRoom();\n    if (currentRoom) {\n      this.previousRooms = [currentRoom];\n      logger.debug(`💾 Saved room for reconnection: ${currentRoom}`, 'reconnection');\n    }\n  }\n\n  /**\n   * Restore rooms after reconnection\n   */\n  private async restoreRooms(): Promise<void> {\n    if (this.previousRooms.length > 0) {\n      logger.debug(`🔄 Restoring ${this.previousRooms.length} rooms after reconnection`, 'reconnection');\n      \n      for (const roomId of this.previousRooms) {\n        try {\n          await this.roomManager.joinRoom(roomId);\n          logger.debug(`✅ Restored room: ${roomId}`, 'reconnection');\n        } catch (error) {\n          logger.error(`❌ Failed to restore room ${roomId}: ${error}`, 'reconnection');\n        }\n      }\n    }\n  }\n\n  /**\n   * Schedule reconnection\n   */\n  scheduleReconnect(): void {\n    if (!this.options.autoReconnect) return;\n    \n    if (this.currentAttempt >= (this.options.reconnectAttempts || 5)) {\n      logger.error(`❌ Max reconnection attempts reached (${this.options.reconnectAttempts})`, 'reconnection');\n      return;\n    }\n    \n    this.isReconnecting = true;\n    this.currentAttempt++;\n    \n    // Save current rooms before reconnection\n    this.saveCurrentRooms();\n    \n    const delay = (this.options.reconnectDelay || 1000) * Math.pow(2, this.currentAttempt - 1);\n    logger.info(`🔄 Reconnecting in ${delay}ms (attempt ${this.currentAttempt}/${this.options.reconnectAttempts})`, 'reconnection');\n    \n    // Generate reconnect event\n    const reconnectEvent: ReconnectEvent = {\n      attempt: this.currentAttempt,\n      maxAttempts: this.options.reconnectAttempts || 5,\n      delay,\n      timestamp: Date.now()\n    };\n    this.emit('reconnect', reconnectEvent);\n    \n    // Call user handler\n    if (this.options.onReconnect) {\n      this.options.onReconnect(reconnectEvent);\n    }\n    \n    this.reconnectTimer = setTimeout(() => {\n      this.performReconnect();\n    }, delay);\n  }\n\n  /**\n   * Execute reconnection\n   */\n  private async performReconnect(): Promise<void> {\n    try {\n      await this.connectionManager.connect();\n      \n      // Restore rooms after successful reconnection\n      await this.restoreRooms();\n      \n      this.resetReconnection();\n    } catch (error) {\n      logger.error(`❌ Reconnection failed: ${error}`, 'reconnection');\n      this.scheduleReconnect();\n    }\n  }\n\n  /**\n   * Reset reconnection state\n   */\n  resetReconnection(): void {\n    this.isReconnecting = false;\n    this.currentAttempt = 0;\n    \n    if (this.reconnectTimer) {\n      clearTimeout(this.reconnectTimer);\n      this.reconnectTimer = null;\n    }\n    \n    logger.info('✅ Reconnection successful', 'reconnection');\n  }\n\n  /**\n   * Cancel reconnection\n   */\n  cancelReconnect(): void {\n    if (this.reconnectTimer) {\n      clearTimeout(this.reconnectTimer);\n      this.reconnectTimer = null;\n    }\n    this.isReconnecting = false;\n    this.currentAttempt = 0;\n    \n    logger.debug('🛑 Reconnection cancelled', 'reconnection');\n  }\n\n  /**\n   * Check reconnection state\n   */\n  getIsReconnecting(): boolean {\n    return this.isReconnecting;\n  }\n\n  /**\n   * Get current attempt\n   */\n  getCurrentAttempt(): number {\n    return this.currentAttempt;\n  }\n\n  /**\n   * Get maximum attempts\n   */\n  getMaxAttempts(): number {\n    return this.options.reconnectAttempts || 5;\n  }\n\n  /**\n   * Update reconnection configuration\n   */\n  updateConfig(newOptions: Partial<WebSocketOptions>): void {\n    this.options = { ...this.options, ...newOptions };\n  }\n}\n","import { logger } from './core/logger';\nimport { WebSocketOptions, ConnectionState, ConnectionStatus } from './core/types';\nimport { EventEmitter } from './core/events';\nimport { ConnectionManager } from './connection/manager';\nimport { RoomManager } from './connection/rooms';\nimport { MessageManager } from './connection/messages';\nimport { PingPongManager } from './connection/pingpong';\nimport { ReconnectionManager } from './connection/reconnection';\n\nexport class RNodeWebSocketClient extends EventEmitter {\n  private options: WebSocketOptions;\n  private connectionManager: ConnectionManager;\n  private roomManager: RoomManager;\n  private messageManager: MessageManager;\n  private pingPongManager: PingPongManager;\n  private reconnectionManager: ReconnectionManager;\n\n  constructor(options: WebSocketOptions) {\n    super();\n    \n    this.options = {\n      autoReconnect: true,\n      reconnectAttempts: 5,\n      reconnectDelay: 1000,\n      pingInterval: 30000,\n      pongTimeout: 10000,\n      ...options\n    };\n\n    // Initialize managers\n    this.connectionManager = new ConnectionManager(this.options);\n    this.roomManager = new RoomManager(this.connectionManager, this.options);\n    this.pingPongManager = new PingPongManager(this.connectionManager, this.options);\n    this.messageManager = new MessageManager(this.connectionManager, this.options, this.pingPongManager);\n    this.reconnectionManager = new ReconnectionManager(this.connectionManager, this.options, this.roomManager);\n\n    // Setup event handlers\n    this.setupEventHandlers();\n\n    // Set disconnect callback for reconnection\n    this.connectionManager.setDisconnectCallback(() => {\n      if (this.options.autoReconnect) {\n        this.reconnectionManager.scheduleReconnect();\n      }\n    });\n\n    logger.info('🔌 RNode WebSocket Client initialized', 'client');\n  }\n\n  /**\n   * Setup event handlers from managers\n   */\n  private setupEventHandlers(): void {\n    // Proxy events from managers\n    this.messageManager.on('welcome', (data: unknown) => this.emit('welcome', data));\n    this.messageManager.on('ping', (data: unknown) => this.emit('ping', data));\n    this.messageManager.on('pong', (data: unknown) => this.emit('pong', data));\n    this.messageManager.on('join_room', (data: unknown) => this.emit('join_room', data));\n    this.messageManager.on('leave_room', (data: unknown) => this.emit('leave_room', data));\n    this.messageManager.on('message', (data: unknown) => this.emit('message', data));\n    this.messageManager.on('direct_message', (data: unknown) => this.emit('direct_message', data));\n    this.messageManager.on('room_message', (data: unknown) => this.emit('room_message', data));\n    this.messageManager.on('message_ack', (data: unknown) => this.emit('message_ack', data));\n    this.messageManager.on('error', (data: unknown) => this.emit('error', data));\n\n    this.reconnectionManager.on('reconnect', (data: unknown) => this.emit('reconnect', data));\n    this.pingPongManager.on('ping', (data: unknown) => this.emit('ping', data));\n    this.pingPongManager.on('pong', (data: unknown) => this.emit('pong', data));\n  }\n\n  /**\n   * Connect to WebSocket server\n   */\n  async connect(): Promise<void> {\n    await this.connectionManager.connect();\n    \n    // Setup message handler after connection\n    this.messageManager.setupMessageHandlerAfterConnect();\n    \n    this.pingPongManager.start();\n    \n    // Generate connect event\n    this.emit('connect', {\n      url: this.options.url,\n      clientId: this.options.clientId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Disconnect from server\n   */\n  disconnect(): void {\n    logger.info('🔌 Disconnecting from WebSocket server', 'client');\n    \n    this.pingPongManager.stop();\n    this.reconnectionManager.cancelReconnect();\n    this.connectionManager.disconnect();\n  }\n\n  /**\n   * Send message\n   */\n  send(data: unknown, roomId?: string): boolean {\n    return this.messageManager.send(data, roomId);\n  }\n\n  /**\n   * Send message to room\n   */\n  sendToRoom(roomId: string, message: unknown): boolean {\n    return this.messageManager.sendToRoom(roomId, message);\n  }\n\n  /**\n   * Send direct message to client by ID\n   */\n  sendDirectMessage(clientId: string, message: unknown): boolean {\n    return this.messageManager.sendDirectMessage(clientId, message);\n  }\n\n  /**\n   * Join room\n   */\n  joinRoom(roomId: string): boolean {\n    return this.roomManager.joinRoom(roomId);\n  }\n\n  /**\n   * Leave room\n   */\n  leaveRoom(roomId?: string): boolean {\n    return this.roomManager.leaveRoom(roomId);\n  }\n\n  /**\n   * Get current connection state\n   */\n  getState(): ConnectionState {\n    return this.connectionManager.getState();\n  }\n\n  /**\n   * Check connection\n   */\n  isConnected(): boolean {\n    return this.connectionManager.isConnected();\n  }\n\n  /**\n   * Get current room\n   */\n  getCurrentRoom(): string | null {\n    return this.roomManager.getCurrentRoom();\n  }\n\n  /**\n   * Get connection status\n   */\n  getConnectionStatus(): ConnectionStatus {\n    const status = this.connectionManager.getConnectionStatus();\n    return {\n      ...status,\n      isReconnecting: this.reconnectionManager.getIsReconnecting()\n    };\n  }\n\n  /**\n   * Get ping/pong latency\n   */\n  getLatency(): number {\n    return this.pingPongManager.getLatency();\n  }\n\n  /**\n   * Update configuration\n   */\n  updateOptions(newOptions: Partial<WebSocketOptions>): void {\n    this.options = { ...this.options, ...newOptions };\n    \n    // Update configuration in managers\n    this.reconnectionManager.updateConfig(newOptions);\n    \n    // Restart ping/pong if interval changed\n    if (newOptions.pingInterval !== undefined) {\n      this.pingPongManager.stop();\n      this.pingPongManager.start();\n    }\n    \n    logger.info('🔧 WebSocket options updated', 'client');\n  }\n\n  /**\n   * Get statistics\n   */\n  getStats(): {\n    connection: ConnectionStatus;\n    latency: number;\n    reconnectionAttempts: number;\n    maxReconnectionAttempts: number;\n  } {\n    return {\n      connection: this.getConnectionStatus(),\n      latency: this.getLatency(),\n      reconnectionAttempts: this.reconnectionManager.getCurrentAttempt(),\n      maxReconnectionAttempts: this.reconnectionManager.getMaxAttempts()\n    };\n  }\n}\n","import { ConnectionState } from '../core/types';\n\nexport class WebSocketUtils {\n  /**\n * Check WebSocket support in browser\n */\n  static isSupported(): boolean {\n    return typeof WebSocket !== 'undefined';\n  }\n\n  /**\n   * Get connection state as text\n   */\n  static getStateString(state: ConnectionState): string {\n    switch (state) {\n      case ConnectionState.CONNECTING:\n        return 'CONNECTING';\n      case ConnectionState.OPEN:\n        return 'OPEN';\n      case ConnectionState.CLOSING:\n        return 'CLOSING';\n      case ConnectionState.CLOSED:\n        return 'CLOSED';\n      default:\n        return 'UNKNOWN';\n    }\n  }\n\n  /**\n   * Create unique client ID\n   */\n  static generateClientId(): string {\n    return `client_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * Validate WebSocket URL\n   */\n  static isValidUrl(url: string): boolean {\n    try {\n      const urlObj = new URL(url);\n      return urlObj.protocol === 'ws:' || urlObj.protocol === 'wss:';\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * Create URL with parameters\n   */\n  static buildUrl(baseUrl: string, params: Record<string, string>): string {\n    const url = new URL(baseUrl);\n    Object.entries(params).forEach(([key, value]) => {\n      url.searchParams.append(key, value);\n    });\n    return url.toString();\n  }\n\n  /**\n   * Format time\n   */\n  static formatTimestamp(timestamp: number): string {\n    return new Date(timestamp).toISOString();\n  }\n\n  /**\n   * Check JSON validity\n   */\n  static isValidJSON(str: string): boolean {\n    try {\n      JSON.parse(str);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * Safe JSON parsing\n   */\n  static safeJSONParse<T>(str: string, fallback: T): T {\n    try {\n      return JSON.parse(str) as T;\n    } catch {\n      return fallback;\n    }\n  }\n\n  /**\n   * Generate random ID\n   */\n  static generateId(): string {\n    return Math.random().toString(36).substr(2, 9);\n  }\n\n  /**\n   * Check message type\n   */\n  static isSystemMessage(type: string): boolean {\n    const systemTypes = ['ping', 'pong', 'welcome', 'room_joined', 'room_left', 'message_ack'];\n    return systemTypes.includes(type);\n  }\n\n  /**\n   * Check room type\n   */\n  static isRoomMessage(type: string): boolean {\n    return type === 'room_message' || type === 'join_room' || type === 'leave_room';\n  }\n\n  /**\n   * Check direct message type\n   */\n  static isDirectMessage(type: string): boolean {\n    return type === 'direct_message';\n  }\n}\n","import { RNodeWebSocketClient } from './client';\nimport { Logger, LogLevel } from './core/logger';\nimport { WebSocketUtils } from './utils/websocket';\nimport type {\n  WebSocketOptions\n} from './core/types';\n\n// Main exports\nexport { RNodeWebSocketClient } from './client';\nexport { Logger, LogLevel } from './core/logger';\nexport { WebSocketUtils } from './utils/websocket';\nexport { EventEmitter } from './core/events';\n\n// Types\nexport type {\n  WebSocketOptions,\n  WebSocketEvent,\n  WebSocketMessage,\n  WelcomeMessage,\n  RoomInfo,\n  ConnectionInfo,\n  ReconnectConfig,\n  PingPongConfig,\n  ReconnectEvent,\n  RoomEvent,\n  PingEvent,\n  PongEvent,\n  MessageAckEvent,\n  RoomMessageEvent,\n  DirectMessageEvent,\n  ServerErrorEvent,\n  MessageBlockedEvent,\n  ConnectionStatus,\n  MessageHandler\n} from './core/types';\n\nexport { ConnectionState } from './core/types';\n\n// Managers (for internal use)\nexport { ConnectionManager } from './connection/manager';\nexport { RoomManager } from './connection/rooms';\nexport { MessageManager } from './connection/messages';\nexport { PingPongManager } from './connection/pingpong';\nexport { ReconnectionManager } from './connection/reconnection';\n\n// Create client instance with default settings\nexport function createWebSocketClient(options: WebSocketOptions): RNodeWebSocketClient {\n  return new RNodeWebSocketClient(options);\n}\n\n// Global objects for use on page\nif (typeof window !== 'undefined') {\n      // Global WebSocket client class\n    (window as any).RNodeWebSocketClient = RNodeWebSocketClient;\n  \n      // Global client creation function\n    (window as any).createWebSocketClient = createWebSocketClient;\n  \n      // Global utilities\n    (window as any).WebSocketUtils = WebSocketUtils;\n  \n      // Global logger\n    (window as any).WebSocketLogger = Logger;\n  (window as any).WebSocketLogLevel = LogLevel;\n  \n      // Check that class is actually available as constructor\n    console.log('🔌 RNode WebSocket Client глобально доступен на странице');\n  console.log('📖 Доступные глобальные объекты:');\n  console.log('   - window.RNodeWebSocketClient:', typeof (window as any).RNodeWebSocketClient);\n  console.log('   - window.createWebSocketClient():', typeof (window as any).createWebSocketClient);\n  console.log('   - window.WebSocketUtils:', typeof (window as any).WebSocketUtils);\n  console.log('   - window.WebSocketLogger:', typeof (window as any).WebSocketLogger);\n}\n\n"],"names":["LogLevel","ConnectionState"],"mappings":"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"}